<html>
	<head>
		<title>n-slice-scaling templates Demo</title>
		
		<script src="collections.min.js"></script>
		<script src="prefabs.js"></script>
		<script src="template.js"></script>
		
		<style>
			body {background-color:black;}
			h2 {color:white}
		</style>
		

	</head> 
	<body>
		<h2>SHINOBI Map generation demo</h2>
		<br>
		<script>
			function getRandomInt(min, max) {
				return Math.floor(Math.random() * (max - min)) + min;
			};
			
			window.onload = function(){
				var templates = [];
				for(var n = 0; n < 8; n++){
					templates[n] = rotatedTemplate(Templates.hut, getRandomInt(20,40),getRandomInt(20,40),n%4,n<4);
				}
				var colors = ["#aba","#333","#66f","#aba","#fff"];
				
				for(var l = 0; l < 8; l++){
					console.log(l);
					var canvas = document.getElementById('output'+l);
					var context = canvas.getContext('2d');
					t = templates[l];
					console.log(t);
					for (i = 0; i < t.width; i++){
						for (j = 0; j < t.height; j++){
							try{
								tile = t.mapdata[j][i];
								if(tile != undefined){
									context.fillStyle = colors[tile];
									context.fillRect(i*4,j*4,4,4);
								}
							}catch(e){
								console.log(j + "," + i);
								console.log(t.width + "," + t.height);
								
							}
						}
					}
				}
				
			}
		</script>
		<canvas id="output0" width="200" height="200" style="border:1px solid #000000;"></canvas>
		<canvas id="output1" width="200" height="200" style="border:1px solid #000000;"></canvas>
		<canvas id="output2" width="200" height="200" style="border:1px solid #000000;"></canvas>
		<canvas id="output3" width="200" height="200" style="border:1px solid #000000;"></canvas>
		<canvas id="output4" width="200" height="200" style="border:1px solid #000000;"></canvas>
		<canvas id="output5" width="200" height="200" style="border:1px solid #000000;"></canvas>
		<canvas id="output6" width="200" height="200" style="border:1px solid #000000;"></canvas>
		<canvas id="output7" width="200" height="200" style="border:1px solid #000000;"></canvas>
		<canvas id="output8" width="200" height="200" style="border:1px solid #000000;"></canvas>
		
		<img id="canvasImg" alt="Right click to save me!">
	</body>
</html>